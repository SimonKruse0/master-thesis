%% EXAMPLE ENVIROENMENT
%\usepackage{fontspec}
\usepackage[most]{tcolorbox}
\newcounter{testexample}
\newcounter{testexample2}
\usepackage{xparse}
\usepackage{lipsum}

\definecolor{darkred}{cmyk}{0,0.91,0.72,0.23}
\newtcolorbox{mybox}[3][]
{
   sharp corners,
   boxrule=0mm,
   enhanced,
   borderline west={4pt}{-2pt}{darkred},
   borderline north={1pt}{0pt}{darkred},
   borderline south={1pt}{0pt}{darkred},
   borderline east={1pt}{0pt}{darkred},
   colframe=drGray,
   colback=drGray,
   %coltitle=red,
   %title    = {#3},
   %fonttitle=\bfseries,
   %boxed title style={empty,size=minimal,toprule=0pt,top=4pt,left=3mm,overlay={}}
   %boxsep=3pt,left=4pt,right=4pt,top=2pt,bottom=2pt
}


\def\exampletext{Example} % If English
\NewDocumentEnvironment{testexample}{ O{} }
{
\definecolor{colexam}{cmyk}{0,0.91,0.72,0.23}
%\colorlet{colexam}{0.77|0|0.05} % Global example color
\newtcolorbox[use counter=testexample]{testexamplebox}{%
    % Example Frame Start
    empty,% Empty previously set parameters
    title={\exampletext: #1},% use \thetcbcounter to access the testexample counter text
    % Attaching a box requires an overlay
    attach boxed title to top left,
       % Ensures proper line breaking in longer titles
       minipage boxed title,
    % (boxed title style requires an overlay)
    boxed title style={empty,size=minimal,toprule=0pt,top=4pt,left=3mm,overlay={}},
    coltitle=colexam,fonttitle=\bfseries,
    before=\par\medskip\noindent,parbox=false,boxsep=0pt,left=3mm,right=0mm,top=2pt,breakable,pad at break=0mm,
       before upper=\csname @totalleftmargin\endcsname0pt, % Use instead of parbox=true. This ensures parskip is inherited by box.
    % Handles box when it exists on one page only
    overlay unbroken={\draw[colexam,line width=4pt] ([xshift=-0pt]title.north west) -- ([xshift=-0pt]frame.south west); },
    % Handles multipage box: first page
    overlay first={\draw[colexam,line width=4pt] ([xshift=-0pt]title.north west) -- ([xshift=-0pt]frame.south west); },
    % Handles multipage box: middle page
    overlay middle={\draw[colexam,line width=4pt] ([xshift=-0pt]frame.north west) -- ([xshift=-0pt]frame.south west); },
    % Handles multipage box: last page
    overlay last={\draw[colexam,line width=4pt] ([xshift=-0pt]frame.north west) -- ([xshift=-0pt]frame.south west); },%
    }
\begin{testexamplebox}}
{\end{testexamplebox}\endlist}

%NEW
\def\exampletexttt{Background} % If English

\NewDocumentEnvironment{testexample2}{ O{} }
{
\definecolor{colexam}{cmyk}{0.88,0.76,0,0}
%\colorlet{colexam}{BlueLUH!55!black} % Global example color
\newtcolorbox[use counter=testexample2]{testexamplebox2}{%
    % Example Frame Start
    empty,% Empty previously set parameters
    title={\exampletexttt: #1},% use \thetcbcounter to access the testexample counter text
    % Attaching a box requires an overlay
    attach boxed title to top left,
       % Ensures proper line breaking in longer titles
       minipage boxed title,
    % (boxed title style requires an overlay)
    boxed title style={empty,size=minimal,toprule=0pt,top=4pt,left=3mm,overlay={}},
    coltitle=colexam,fonttitle=\bfseries,
    before=\par\medskip\noindent,parbox=false,boxsep=0pt,left=3mm,right=0mm,top=2pt,breakable,pad at break=0mm,
       before upper=\csname @totalleftmargin\endcsname0pt, % Use instead of parbox=true. This ensures parskip is inherited by box.
    % Handles box when it exists on one page only
    overlay unbroken={\draw[colexam,line width=4pt] ([xshift=-0pt]title.north west) -- ([xshift=-0pt]frame.south west); },
    % Handles multipage box: first page
    overlay first={\draw[colexam,line width=4pt] ([xshift=-0pt]title.north west) -- ([xshift=-0pt]frame.south west); },
    % Handles multipage box: middle page
    overlay middle={\draw[colexam,line width=4pt] ([xshift=-0pt]frame.north west) -- ([xshift=-0pt]frame.south west); },
    % Handles multipage box: last page
    overlay last={\draw[colexam,line width=4pt] ([xshift=-0pt]frame.north west) -- ([xshift=-0pt]frame.south west); },%
    }
\begin{testexamplebox2}}
{\end{testexamplebox2}\endlist}

%% PSEUDO CODE
\usepackage{algorithm} % See help.tex.
\usepackage[noend]{algpseudocode}

\newtheorem{definition}{Definition}
\newtheorem{proposition}{Proposition}

\newcommand\todo[1]{\textcolor{red}{#1}}

\usepackage{tcolorbox}
\tcbuselibrary{skins}

\definecolor{drGray}{gray}{0.95}


